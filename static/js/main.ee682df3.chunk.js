(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,function(e,t,n){e.exports={modal:"CartModal_modal__3BXhs",backdrop:"CartModal_backdrop__36HNB",title:"CartModal_title__1vcmD",price:"CartModal_price__1ajIF",quantity:"CartModal_quantity__1rp8j",modify:"CartModal_modify__3kxo0",actions:"CartModal_actions__uj6Do",button:"CartModal_button__-tkUm",orderButton:"CartModal_orderButton__1TnnB",closeButton:"CartModal_closeButton__3ZDlm"}},,,function(e,t,n){e.exports={container:"CartHeader_container__38yrb",quantity:"CartHeader_quantity__9OIAY",icon:"CartHeader_icon__-L61c",bump:"CartHeader_bump__ikTZb"}},function(e,t,n){e.exports={container:"Meal_container__f9la6",name:"Meal_name__3LK81",description:"Meal_description__1cpir",price:"Meal_price__3hF7H"}},function(e,t,n){e.exports={container:"AddMeal_container__3YQys",containerInput:"AddMeal_containerInput__1fAwc",invalidInp:"AddMeal_invalidInp__1X6wv"}},,,,,function(e,t,n){e.exports={header:"Header_header__zSTUo",image:"Header_image__3X7yt"}},function(e,t,n){e.exports={button:"Button_button__6-R6B"}},function(e,t,n){e.exports={card:"Card_card__1m44e"}},function(e,t,n){e.exports={listElement:"CardElement_listElement__1l-KI"}},function(e,t,n){e.exports={summary:"MealsSummary_summary__22zUX"}},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(8),a=n.n(c),r=(n(21),n(1)),i=n.n(r),o=n(3),s=n(5),l=n.n(s),d=n(0),u=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(d.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},j=n(10),m=i.a.createContext({cart:0,items:[],modal:null,updateItems:function(){},updateByOne:function(){},openModal:null}),b=0,p=function(e){var t=Object(r.useState)([]),n=Object(o.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1];return Object(d.jsx)(m.Provider,{value:{cart:b,items:c,modal:l,updateItems:function(e){var t=c.find((function(t){return t.id===e.id}));t?(t.quantity+=e.quantity,a((function(e){return Object(j.a)(e)}))):a((function(t){return[].concat(Object(j.a)(t),[e])})),b+=e.quantity},updateByOne:function(e,t){var n=c.find((function(t){return t.id===e}));t&&(n.quantity++,b++),!t&&n.quantity>0&&(n.quantity--,b--),0===n.quantity&&a((function(e){return e.filter((function(e){return e.id!==n.id}))})),a((function(e){return Object(j.a)(e)}))},openModal:function(e){u(e)}},children:e.children})},f=m,O=function(){var e=Object(r.useContext)(f),t=Object(r.useState)(!1),n=Object(o.a)(t,2),c=n[0],a=n[1],i=Object(r.useRef)(!0);Object(r.useEffect)((function(){i.current?i.current=!1:(a(!0),setTimeout((function(){a(!1)}),300))}),[e.cart,i]);return Object(d.jsxs)("button",{onClick:function(){e.openModal(!0)},className:"".concat(l.a.container," ").concat(c?l.a.bump:null),children:[Object(d.jsx)("span",{className:l.a.icon,children:Object(d.jsx)(u,{})}),Object(d.jsx)("span",{children:"Your Cart"}),Object(d.jsx)("span",{className:l.a.quantity,children:e.cart})]})},h=n(12),_=n.n(h),x=n.p+"static/media/meals.2971f633.jpg",v=function(){return Object(d.jsxs)(i.a.Fragment,{children:[Object(d.jsxs)("header",{className:_.a.header,children:[Object(d.jsx)("h2",{children:"ReactMeals"}),Object(d.jsx)(O,{})]}),Object(d.jsx)("div",{className:_.a.image,children:Object(d.jsx)("img",{src:x,alt:"A table full of delicous food"})})]})},M=n(6),y=n.n(M),C=function(e){return Object(d.jsxs)("div",{className:y.a.container,id:e.id,children:[Object(d.jsx)("div",{className:y.a.name,children:e.name}),Object(d.jsx)("div",{className:y.a.description,children:e.description}),Object(d.jsxs)("div",{className:y.a.price,children:["$",e.price]})]})},g=n(7),N=n.n(g),k=n(13),B=n.n(k),w=function(e){return Object(d.jsx)("button",{onClick:e.onClick,className:"".concat(B.a.button," ").concat(e.classMod),children:e.children})},I=function(e){var t=Object(r.useState)(!0),n=Object(o.a)(t,2),c=n[0],a=n[1],i=Object(r.useRef)();return Object(d.jsxs)("div",{className:N.a.container,children:[Object(d.jsxs)("div",{className:N.a.containerInput,children:[Object(d.jsx)("label",{htmlFor:"number",className:N.a.label,children:"Amount"}),Object(d.jsx)("input",{ref:i,id:"number",type:"number",defaultValue:"1",min:"1",max:"10",onChange:function(e){var t=+e.target.value;t<0||!Number.isInteger(t)?a(!1):a(!0)},className:c?null:N.a.invalidInp})]}),Object(d.jsx)(w,{onClick:function(t){if(c){var n=t.target.parentElement.parentElement.firstElementChild,a={id:n.id,name:n.children[0].textContent,price:n.children[2].textContent,quantity:+i.current.value};e.sendMeal(a),i.current.value=1}},children:"+ Add"})]})},q=n(2),H=n.n(q),A=n(14),E=n.n(A),F=i.a.forwardRef((function(e,t){return Object(d.jsx)("ul",{ref:t,className:"".concat(E.a.card," ").concat(e.classMod),children:e.children})})),R=n(15),S=n.n(R),z=function(e){return Object(d.jsx)("li",{className:S.a.listElement,id:e.id,children:e.children})},T=i.a.forwardRef((function(e,t){var n=Object(r.useContext)(f),c=function(e){return function(t){var c=t.target.parentElement.parentElement.id;n.updateByOne(c,e)}},o=function(){n.openModal(!1)},s=function(e){return Object(d.jsx)("div",{className:H.a.backdrop,onClick:o})},l=Object(r.useRef)(),u=function(){l.current&&l.current.scrollIntoView({behavior:"smooth",block:"center"})};return Object(r.useImperativeHandle)(t,(function(){return{intoView:u}})),Object(d.jsx)("div",{children:n.cart>0?Object(d.jsxs)(i.a.Fragment,{children:[a.a.createPortal(Object(d.jsx)(s,{}),document.getElementById("backdrop-root")),Object(d.jsxs)(F,{classMod:H.a.modal,ref:l,children:[n.items.map((function(e){return Object(d.jsxs)(z,{id:e.id,children:[Object(d.jsxs)("div",{className:H.a.container,children:[Object(d.jsx)("span",{className:H.a.title,children:e.name}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:H.a.price,children:e.price}),Object(d.jsxs)("span",{className:H.a.quantity,children:[Object(d.jsx)("b",{children:"x"})," ",e.quantity]})]})]}),Object(d.jsxs)("div",{className:H.a.modify,children:[Object(d.jsx)(w,{onClick:c(!1),classMod:H.a.button,children:"-"}),Object(d.jsx)(w,{onClick:c(!0),classMod:H.a.button,children:"+"})]})]},e.id)})),Object(d.jsxs)("div",{className:H.a.actions,children:[Object(d.jsx)(w,{classMod:H.a.orderButton,onClick:function(){console.log("ordering...")},children:"Order"}),Object(d.jsx)(w,{classMod:H.a.closeButton,onClick:e.closeModal,children:"Close"})]})]})]}):null})})),D=[{id:"m1",name:"Sushi",description:"Finest fish and veggies",price:22.99},{id:"m2",name:"Schnitzel",description:"A german specialty!",price:16.5},{id:"m3",name:"Barbecue Burger",description:"American, raw, meaty",price:12.99},{id:"m4",name:"Green Bowl",description:"Healthy...and green...",price:18.99}],V=function(){var e=Object(r.useContext)(f),t=function(t){e.updateItems(t),e.openModal(!0)},n=Object(r.useRef)();return e.modal&&setTimeout((function(){n.current.intoView()}),200),Object(d.jsxs)(i.a.Fragment,{children:[Object(d.jsx)(F,{children:D.map((function(e){return Object(d.jsxs)(z,{children:[Object(d.jsx)(C,{id:e.id,name:e.name,description:e.description,price:e.price}),Object(d.jsx)(I,{sendMeal:t})]},e.id)}))}),e.modal?Object(d.jsx)(T,{ref:n,closeModal:function(){e.openModal(!1)}}):null]})},X=n(16),Y=n.n(X),U=function(){return Object(d.jsxs)("section",{className:Y.a.summary,children:[Object(d.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(d.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(d.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})};var J=function(){return Object(d.jsxs)(p,{children:[Object(d.jsx)(v,{}),Object(d.jsx)(U,{}),Object(d.jsx)(V,{})]})};a.a.render(Object(d.jsx)(J,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.ee682df3.chunk.js.map